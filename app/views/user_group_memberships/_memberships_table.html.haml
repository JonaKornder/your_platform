- # Locals:
- #  - memberships

%table.datatable.memberships
  %thead
    %tr
      %th Id
      %th Gruppe
      %th Pfad
      %th Mitglied seit
      %th Mitglied bis
      %th Direkte Mitgliedschaft
  %tbody
    - memberships.each do |membership|
      %tr
        %td.copy-to-clipboard{title: "UserGroupMembership.now_and_in_the_past.find(#{membership.id})"}= membership.id
        %td
          - if membership.group
            = link_to membership.group.name, membership.group
          - else
            .alert.alert-danger
              %strong GRUPPE FEHLT!
              (Datenfehler)
        %td
          - if membership.group
            %ul
              - membership.group.nav_node.ancestor_navables.each do |ancestor|
                %li= link_to ancestor.title, ancestor
        %td
          - if membership.group
            = localize(membership.valid_from.to_date) if membership.valid_from
          - else
            = localize(membership.read_attribute(:valid_from).to_date) if membership.read_attribute(:valid_from)
        %td
          - if membership.group
            = localize(membership.valid_to.to_date) if membership.valid_to
          - else
            = localize(membership.read_attribute(:valid_to).to_date) if membership.read_attribute(:valid_to)
        %td= membership.direct? ? "<strong>direkt</strong>".html_safe : "count: #{membership.count}"
        