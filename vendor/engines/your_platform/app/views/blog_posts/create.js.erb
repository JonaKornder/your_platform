<% # Create new blog post box. %>
created_blog_post = $("<%= j(html_convert_h1_to_boxes(render partial: 'pages/page', object: @blog_post))  %>");

<% # Add the new blog post below the tool button's section. %>
blog_tools_section = $("div.blog_tools");

created_blog_post.hide().insertAfter(blog_tools_section).slideDown( function() {
  <% # Trigger all callbacks that are needed on page load, e.g. initialize edit mode elements. %>
  if (created_blog_post.closest(".currently_in_edit_mode").length == 0){
    created_blog_post.trigger("ready");
    created_blog_post.trigger("page:load");
  }
  
  <% # Trigger the edit_mode in order to make the new entry be shown as text fields. %>
  if (created_blog_post.find(".edit_button").length > 0){
    created_blog_post.find(".edit_button")[0].click();
  }
} );


